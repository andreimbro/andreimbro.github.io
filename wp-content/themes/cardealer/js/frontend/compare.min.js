!function(){"use strict";jQuery(document).ready(function($){var compare_vehicle_ids=cookies.get("cars"),compare_vehicle_ids_str=JSON.stringify(cookies.get("cars"));null!=cookies.get("cars")&&""!=cookies.get("cars")&&(jQuery(".menu-item .menu-item-compare").show(),compare_vehicle_ids=$.parseJSON(compare_vehicle_ids_str),jQuery(".menu-item .compare-details.count").html(compare_vehicle_ids.length)),$(document).on("click",".compare_pgs, .menu-item-compare",function(){var carIds,car_id,date,expires,carListClick=0;$(this).hasClass("compare_pgs")&&(car_id=jQuery(this).data("id"),carIds=JSON.stringify([car_id]),carListClick=1,$(this).find("i").removeClass("fa-exchange-alt"),$(this).find("i").addClass("fa-check"),cookies.get("cars")&&(carIds=cookies.get("cars"),-1==jQuery.inArray(car_id,carIds)&&(carIds[carIds.length]=car_id),carIds=JSON.stringify(carIds)),car_id="cars",date=new Date,expires="; expires="+date.toGMTString(),date.setTime(date.getTime()-864e5),document.cookie=car_id+"=1"+expires,cookies.set("cars",carIds)),compare_vehicle_ids_str=JSON.stringify(cookies.get("cars")),jQuery.ajax({url:cardealer_js.ajaxurl,type:"post",data:"action=car_compare_action&car_ids="+compare_vehicle_ids_str,beforeSend:function(){jQuery("body").append('<div id="comparelist" class="modal" tabindex="-1" role="dialog" aria-hidden="true"></div>')},success:function(carData){var compare_vehicle_ids=$.parseJSON(compare_vehicle_ids_str);jQuery(".menu-item .compare-details.count").html(compare_vehicle_ids.length),jQuery(".menu-item-compare").is(":hidden")&&0<compare_vehicle_ids.length&&jQuery(".menu-item-compare").show(),compare_vehicle_ids.length<2&&1==carListClick||(jQuery("#comparelist").html(carData),$("div#sortable").css("width",$("#sortable .compare-list").length*$(".compare-list").width()+" !important"),jQuery("#comparelist").modal("show"),480<jQuery(window).width()&&(jQuery("#sortable").sortable(),jQuery("#sortable").disableSelection()))},error:function(carData){alert(cardealer_js.compare_load_error_msg)}})}),jQuery(document).on("shown.bs.modal","#comparelist",function(e){jQuery(".cardealer-vehicle-compare-list-header .cardealer-vehicle-compare-list-title").each(function(inner_index){jQuery(this).removeAttr("style")}),jQuery(".cardealer-vehicle-compare-list-column").each(function(index){jQuery(this).find(".cardealer-vehicle-compare-list-row").each(function(inner_index){jQuery(this).removeAttr("style")})});for(var height=[],max_height=(jQuery(".cardealer-vehicle-compare-list-column").each(function(index){var inner_height=[];jQuery(this).find(".cardealer-vehicle-compare-list-row").each(function(inner_index){inner_height.push(jQuery(this).height())}),height.push(inner_height)}),[]),i=0;i<height.length;i++){0!==i&&0;for(var j=0;j<height[i].length;j++)0!==i?height[i][j]>max_height[j]&&(max_height[j]=height[i][j]):max_height.push(height[i][j])}jQuery(".cardealer-vehicle-compare-list-header .cardealer-vehicle-compare-list-title").each(function(inner_index){jQuery(this).height(max_height[inner_index])}),jQuery(".cardealer-vehicle-compare-list-column").each(function(index){jQuery(this).find(".cardealer-vehicle-compare-list-row").each(function(inner_index){jQuery(this).height(max_height[inner_index])})})}),jQuery(document).on("hidden.bs.modal","#comparelist",function(e){$(".compare_pgs i.fa-spinner").parent().addClass("compared_pgs")}),$(document).on("click",".cardealer-vehicle-compare-list-column .compare-remove-column",function(){var carID=$(this).data("car_id"),compare_vehicle_ids=cookies.get("cars");compare_vehicle_ids.splice($.inArray(carID,compare_vehicle_ids),1),cookies.set("cars",JSON.stringify(compare_vehicle_ids)),$(".table-scroll").find(".compare-list[data-id='"+carID+"']").remove(),$("li").find("a[data-id='"+carID+"']").addClass("compare_pgs"),$("li").find("a[data-id='"+carID+"']").removeClass("compared_pgs"),$("li").find("a[data-id='"+carID+"']").find("i").addClass("fa-exchange-alt"),$("li").find("a[data-id='"+carID+"']").find("i").removeClass("fa-check"),compare_vehicle_ids=cookies.get("cars"),jQuery(".menu-item .compare-details.count").html(compare_vehicle_ids.length),compare_vehicle_ids.length<1?($("#comparelist").modal("hide"),jQuery(".menu-item-compare").hide()):$("#sortable").css("width",compare_vehicle_ids.length*$(".compare-list").width())})})}(jQuery);